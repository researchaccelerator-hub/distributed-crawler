<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title>API Reference | Distributed Crawler</title>
  <meta name="description" content="A powerful Go-based application for scraping messages and metadata from Telegram channels and YouTube channels. Built for scalability and reliability.">
  
  <link rel="stylesheet" href="/distributed-crawler/assets/css/style.css">
  <link rel="canonical" href="https://researchaccelerator-hub.github.io/distributed-crawler/api-reference.html">
  <link rel="alternate" type="application/rss+xml" title="Distributed Crawler" href="/distributed-crawler/feed.xml">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/distributed-crawler/assets/images/favicon.svg">
  
  <!-- SEO -->
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>API Reference | Distributed Crawler</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="API Reference" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A powerful Go-based application for scraping messages and metadata from Telegram channels and YouTube channels. Built for scalability and reliability." />
<meta property="og:description" content="A powerful Go-based application for scraping messages and metadata from Telegram channels and YouTube channels. Built for scalability and reliability." />
<link rel="canonical" href="https://researchaccelerator-hub.github.io/distributed-crawler/api-reference.html" />
<meta property="og:url" content="https://researchaccelerator-hub.github.io/distributed-crawler/api-reference.html" />
<meta property="og:site_name" content="Distributed Crawler" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="API Reference" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"A powerful Go-based application for scraping messages and metadata from Telegram channels and YouTube channels. Built for scalability and reliability.","headline":"API Reference","url":"https://researchaccelerator-hub.github.io/distributed-crawler/api-reference.html"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>
  <header class="site-header">
    <div class="wrapper">
      <a class="site-title" href="/distributed-crawler/">
        <span class="site-icon">üì°</span>
        Distributed Crawler
      </a>
      
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="m18,1.484c0,0.82-0.665,1.484-1.484,1.484h-15.032c-0.819,0-1.484-0.665-1.484-1.484s0.665-1.484,1.484-1.484h15.032c0.819,0,1.484,0.665,1.484,1.484zm0,6.016c0,0.82-0.665,1.484-1.484,1.484h-15.032c-0.819,0-1.484-0.665-1.484-1.484s0.665-1.484,1.484-1.484h15.032c0.819,0,1.484,0.665,1.484,1.484zm0,6.016c0,0.82-0.665,1.484-1.484,1.484h-15.032c-0.819,0-1.484-0.665-1.484-1.484s0.665-1.484,1.484-1.484h15.032c0.819,0,1.484,0.665,1.484,1.484z"/>
            </svg>
          </span>
        </label>
        
        <div class="trigger">
          
            <a class="page-link" href="/distributed-crawler">Home</a>
          
            <a class="page-link" href="/distributed-crawler/getting-started">Getting Started</a>
          
            <a class="page-link" href="/distributed-crawler/architecture">Architecture</a>
          
            <a class="page-link" href="/distributed-crawler/api-reference">API Reference</a>
          
            <a class="page-link" href="/distributed-crawler/examples">Examples</a>
          
            <a class="page-link" href="/distributed-crawler/community">Community</a>
          
        </div>
      </nav>
    </div>
  </header>
  
  <main class="page-content" aria-label="Content">
    <div class="wrapper">
      <h1 id="api-reference">API Reference</h1>

<p>Complete reference for all command-line options, configuration parameters, and environment variables.</p>

<h2 id="command-line-interface">Command Line Interface</h2>

<h3 id="basic-syntax">Basic Syntax</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./distributed-crawler <span class="o">[</span>global-options] <span class="o">[</span><span class="nb">command</span><span class="o">]</span> <span class="o">[</span>command-options]
</code></pre></div></div>

<h3 id="global-options">Global Options</h3>

<h4 id="execution-mode">Execution Mode</h4>

<p><strong><code class="language-plaintext highlighter-rouge">--mode</code></strong> <em>(string)</em><br />
Execution mode for the crawler. Choose based on your deployment needs:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">standalone</code> - Single process execution (default)</li>
  <li><code class="language-plaintext highlighter-rouge">dapr-standalone</code> - Single process with DAPR integration</li>
  <li><code class="language-plaintext highlighter-rouge">orchestrator</code> - Distributes work to multiple workers</li>
  <li><code class="language-plaintext highlighter-rouge">worker</code> - Processes jobs from orchestrator</li>
</ul>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">--mode orchestrator</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">--worker-id</code></strong> <em>(string)</em><br />
Unique identifier for worker instances in distributed mode. Required when using <code class="language-plaintext highlighter-rouge">--mode worker</code>.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">--worker-id "worker-01"</code></p>

<hr />

<h4 id="data-sources">Data Sources</h4>

<p><strong><code class="language-plaintext highlighter-rouge">--urls</code></strong> <em>(comma-separated list)</em><br />
Channel URLs or IDs to scrape. Supports multiple formats per platform.</p>

<p><em>Examples:</em></p>
<ul>
  <li>Telegram: <code class="language-plaintext highlighter-rouge">--urls "channel1,channel2,@username"</code></li>
  <li>YouTube: <code class="language-plaintext highlighter-rouge">--urls "UCxxx123,UCyyy456,@handle"</code></li>
</ul>

<p><strong><code class="language-plaintext highlighter-rouge">--url-file</code></strong> <em>(string)</em><br />
Path to file containing URLs (one per line). Useful for large channel lists.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">--url-file "channels.txt"</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">--url-file-url</code></strong> <em>(string)</em><br />
HTTP URL to a file containing URLs to crawl. Remote channel list support.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">--url-file-url "https://example.com/channels.txt"</code></p>

<hr />

<h4 id="platform-configuration">Platform Configuration</h4>

<p><strong><code class="language-plaintext highlighter-rouge">--platform</code></strong> <em>(string)</em> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">telegram</code></em><br />
Target platform for crawling.</p>

<p><em>Options:</em> <code class="language-plaintext highlighter-rouge">telegram</code> | <code class="language-plaintext highlighter-rouge">youtube</code><br />
<em>Example:</em> <code class="language-plaintext highlighter-rouge">--platform youtube</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">--youtube-api-key</code></strong> <em>(string)</em><br />
API key for YouTube Data API v3. Required when using <code class="language-plaintext highlighter-rouge">--platform youtube</code>.<br />
Get your key at <a href="https://console.cloud.google.com/">Google Cloud Console</a>.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">--youtube-api-key "AIza..."</code></p>

<hr />

<h4 id="crawling-limits">Crawling Limits</h4>

<p><strong><code class="language-plaintext highlighter-rouge">--max-posts</code></strong> <em>(integer)</em> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">-1</code> (unlimited)</em><br />
Maximum posts to collect per channel. Use to limit resource usage.</p>

<p><em>Examples:</em></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">--max-posts 1000</code> - Limit to 1000 posts per channel</li>
  <li><code class="language-plaintext highlighter-rouge">--max-posts -1</code> - No limit</li>
</ul>

<p><strong><code class="language-plaintext highlighter-rouge">--max-comments</code></strong> <em>(integer)</em> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">-1</code> (unlimited)</em><br />
Maximum comments to collect per post.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">--max-comments 500</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">--max-depth</code></strong> <em>(integer)</em> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">-1</code> (unlimited)</em><br />
Maximum crawl depth for discovery operations.</p>

<p><strong><code class="language-plaintext highlighter-rouge">--max-pages</code></strong> <em>(integer)</em> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">108000</code></em><br />
Maximum number of pages/channels to process in total.</p>

<p><strong><code class="language-plaintext highlighter-rouge">--min-users</code></strong> <em>(integer)</em> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">100</code></em><br />
Skip channels with fewer subscribers/members than this threshold.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">--min-users 1000</code> - Only crawl channels with 1000+ members</p>

<hr />

<h4 id="time-filtering">Time Filtering</h4>

<p><strong><code class="language-plaintext highlighter-rouge">--time-ago</code></strong> <em>(duration)</em> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">1m</code></em><br />
Only collect posts newer than specified duration.</p>

<p><em>Formats:</em> <code class="language-plaintext highlighter-rouge">30d</code> (days) | <code class="language-plaintext highlighter-rouge">6h</code> (hours) | <code class="language-plaintext highlighter-rouge">2w</code> (weeks) | <code class="language-plaintext highlighter-rouge">1m</code> (months) | <code class="language-plaintext highlighter-rouge">1y</code> (years)<br />
<em>Example:</em> <code class="language-plaintext highlighter-rouge">--time-ago "30d"</code> - Posts from last 30 days</p>

<p><strong><code class="language-plaintext highlighter-rouge">--min-post-date</code></strong> <em>(date)</em><br />
Minimum post date to crawl. Format: YYYY-MM-DD</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">--min-post-date "2023-01-01"</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">--date-between</code></strong> <em>(date range)</em><br />
Crawl posts within specific date range. Format: YYYY-MM-DD,YYYY-MM-DD</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">--date-between "2023-01-01,2023-12-31"</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">--sample-size</code></strong> <em>(integer)</em> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">0</code> (no sampling)</em><br />
Randomly sample this many posts when using <code class="language-plaintext highlighter-rouge">--date-between</code>.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">--sample-size 5000</code> - Random sample of 5000 posts</p>

<hr />

<h4 id="storage-configuration">Storage Configuration</h4>

<p><strong><code class="language-plaintext highlighter-rouge">--storage-root</code></strong> <em>(string)</em> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">/tmp/crawl</code></em><br />
Root directory for storing crawled data and progress files.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">--storage-root "/data/crawls"</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">--output</code></strong> <em>(string)</em> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">json</code></em><br />
Output format for crawled data.</p>

<table>
  <tbody>
    <tr>
      <td><em>Options:</em> <code class="language-plaintext highlighter-rouge">json</code></td>
      <td><code class="language-plaintext highlighter-rouge">csv</code></td>
    </tr>
  </tbody>
</table>

<p><strong><code class="language-plaintext highlighter-rouge">--skip-media</code></strong> <em>(flag)</em><br />
Skip downloading media files (images, videos, documents).</p>

<p><em>Usage:</em> <code class="language-plaintext highlighter-rouge">--skip-media</code></p>

<hr />

<h4 id="system-configuration">System Configuration</h4>

<p><strong><code class="language-plaintext highlighter-rouge">--concurrency</code></strong> <em>(integer)</em> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">1</code></em><br />
Number of concurrent crawler threads. Higher values increase speed but use more resources.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">--concurrency 5</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">--timeout</code></strong> <em>(integer)</em> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">30</code></em><br />
HTTP request timeout in seconds.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">--timeout 60</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">--log-level</code></strong> <em>(string)</em> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">debug</code></em><br />
Logging verbosity level.</p>

<p><em>Options:</em> <code class="language-plaintext highlighter-rouge">trace</code> | <code class="language-plaintext highlighter-rouge">debug</code> | <code class="language-plaintext highlighter-rouge">info</code> | <code class="language-plaintext highlighter-rouge">warn</code> | <code class="language-plaintext highlighter-rouge">error</code> | <code class="language-plaintext highlighter-rouge">fatal</code> | <code class="language-plaintext highlighter-rouge">panic</code><br />
<em>Example:</em> <code class="language-plaintext highlighter-rouge">--log-level info</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">--config</code></strong> <em>(string)</em><br />
Path to YAML configuration file for advanced settings.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">--config "config.yaml"</code></p>

<hr />

<h4 id="advanced-options">Advanced Options</h4>

<p><strong><code class="language-plaintext highlighter-rouge">--crawl-id</code></strong> <em>(string)</em><br />
Custom identifier for this crawl operation. Auto-generated if not provided.</p>

<p><strong><code class="language-plaintext highlighter-rouge">--crawl-label</code></strong> <em>(string)</em><br />
Human-readable label for organizing crawl results.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">--crawl-label "weekly-analysis"</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">--user-agent</code></strong> <em>(string)</em> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">Mozilla/5.0 Crawler</code></em><br />
Custom User-Agent string for HTTP requests.</p>

<p><strong><code class="language-plaintext highlighter-rouge">--dapr</code></strong> <em>(flag)</em><br />
Enable DAPR integration for cloud-native deployments.</p>

<p><strong><code class="language-plaintext highlighter-rouge">--dapr-port</code></strong> <em>(integer)</em> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">6481</code></em><br />
DAPR sidecar port for service communication.</p>

<p><strong><code class="language-plaintext highlighter-rouge">--tdlib-verbosity</code></strong> <em>(integer)</em> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">1</code></em><br />
TDLib logging verbosity (0-10). Higher values provide more detailed Telegram client logs.</p>

<h2 id="environment-variables">Environment Variables</h2>

<p>Environment variables provide an alternative way to configure the crawler. Variables prefixed with <code class="language-plaintext highlighter-rouge">CRAWLER_</code> override configuration file values, while platform-specific variables are required for authentication.</p>

<h3 id="telegram-api-configuration">Telegram API Configuration</h3>

<p><strong>Required when using <code class="language-plaintext highlighter-rouge">--platform telegram</code></strong></p>

<p><strong><code class="language-plaintext highlighter-rouge">TG_API_ID</code></strong> <em>(required)</em><br />
Your Telegram API ID obtained from <a href="https://my.telegram.org">my.telegram.org</a>.<br />
Create a new application to get your API credentials.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">export TG_API_ID="12345678"</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">TG_API_HASH</code></strong> <em>(required)</em><br />
Your Telegram API Hash from the same application.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">export TG_API_HASH="abcdef1234567890abcdef1234567890"</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">TG_PHONE_NUMBER</code></strong> <em>(required)</em><br />
Your phone number with country code for Telegram authentication.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">export TG_PHONE_NUMBER="+1234567890"</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">TG_PHONE_CODE</code></strong> <em>(required during first auth)</em><br />
One-time password sent to your Telegram app during initial authentication.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">export TG_PHONE_CODE="123456"</code></p>

<hr />

<h3 id="azure-blob-storage-configuration">Azure Blob Storage Configuration</h3>

<p><strong>Optional - for cloud storage integration</strong></p>

<p><strong><code class="language-plaintext highlighter-rouge">CONTAINER_NAME</code></strong> <em>(optional)</em><br />
Azure Blob Storage container name for storing crawled data.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">export CONTAINER_NAME="crawl-data"</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">BLOB_NAME</code></strong> <em>(optional)</em><br />
Blob path prefix for organizing stored data.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">export BLOB_NAME="crawls/2024/"</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">AZURE_STORAGE_ACCOUNT_URL</code></strong> <em>(optional)</em><br />
Azure Storage account URL for blob access.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">export AZURE_STORAGE_ACCOUNT_URL="https://myaccount.blob.core.windows.net"</code></p>

<hr />

<h3 id="system-configuration-overrides">System Configuration Overrides</h3>

<p><strong>Override command-line options with environment variables</strong></p>

<p><strong><code class="language-plaintext highlighter-rouge">CRAWLER_LOGGING_LEVEL</code></strong> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">debug</code></em><br />
Override the default logging level.</p>

<p><em>Options:</em> <code class="language-plaintext highlighter-rouge">trace</code> | <code class="language-plaintext highlighter-rouge">debug</code> | <code class="language-plaintext highlighter-rouge">info</code> | <code class="language-plaintext highlighter-rouge">warn</code> | <code class="language-plaintext highlighter-rouge">error</code><br />
<em>Example:</em> <code class="language-plaintext highlighter-rouge">export CRAWLER_LOGGING_LEVEL="info"</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">CRAWLER_STORAGE_ROOT</code></strong> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">/tmp/crawl</code></em><br />
Override the default storage directory.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">export CRAWLER_STORAGE_ROOT="/data/crawls"</code></p>

<p><strong><code class="language-plaintext highlighter-rouge">CRAWLER_CONCURRENCY</code></strong> ‚Ä¢ <em>Default: <code class="language-plaintext highlighter-rouge">1</code></em><br />
Override the default concurrency level.</p>

<p><em>Example:</em> <code class="language-plaintext highlighter-rouge">export CRAWLER_CONCURRENCY="5"</code></p>

<h3 id="environment-setup-examples">Environment Setup Examples</h3>

<p><strong>Development Environment:</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Telegram API credentials</span>
<span class="nb">export </span><span class="nv">TG_API_ID</span><span class="o">=</span><span class="s2">"12345678"</span>
<span class="nb">export </span><span class="nv">TG_API_HASH</span><span class="o">=</span><span class="s2">"your_api_hash_here"</span>
<span class="nb">export </span><span class="nv">TG_PHONE_NUMBER</span><span class="o">=</span><span class="s2">"+1234567890"</span>

<span class="c"># Local development settings</span>
<span class="nb">export </span><span class="nv">CRAWLER_LOGGING_LEVEL</span><span class="o">=</span><span class="s2">"debug"</span>
<span class="nb">export </span><span class="nv">CRAWLER_STORAGE_ROOT</span><span class="o">=</span><span class="s2">"./local-storage"</span>
</code></pre></div></div>

<p><strong>Production Environment:</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Telegram API credentials</span>
<span class="nb">export </span><span class="nv">TG_API_ID</span><span class="o">=</span><span class="s2">"12345678"</span>
<span class="nb">export </span><span class="nv">TG_API_HASH</span><span class="o">=</span><span class="s2">"your_api_hash_here"</span>
<span class="nb">export </span><span class="nv">TG_PHONE_NUMBER</span><span class="o">=</span><span class="s2">"+1234567890"</span>

<span class="c"># Azure storage for production</span>
<span class="nb">export </span><span class="nv">CONTAINER_NAME</span><span class="o">=</span><span class="s2">"production-crawl-data"</span>
<span class="nb">export </span><span class="nv">AZURE_STORAGE_ACCOUNT_URL</span><span class="o">=</span><span class="s2">"https://myaccount.blob.core.windows.net"</span>

<span class="c"># Production settings</span>
<span class="nb">export </span><span class="nv">CRAWLER_LOGGING_LEVEL</span><span class="o">=</span><span class="s2">"info"</span>
<span class="nb">export </span><span class="nv">CRAWLER_CONCURRENCY</span><span class="o">=</span><span class="s2">"10"</span>
</code></pre></div></div>

<h2 id="configuration-file">Configuration File</h2>

<h3 id="file-locations-searched-in-order">File Locations (searched in order)</h3>
<ol>
  <li>Path specified by <code class="language-plaintext highlighter-rouge">--config</code> flag</li>
  <li><code class="language-plaintext highlighter-rouge">./config.yaml</code></li>
  <li><code class="language-plaintext highlighter-rouge">$HOME/.crawler/config.yaml</code></li>
  <li><code class="language-plaintext highlighter-rouge">/etc/crawler/config.yaml</code></li>
</ol>

<h3 id="configuration-file-format">Configuration File Format</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Logging configuration</span>
<span class="na">logging</span><span class="pi">:</span>
  <span class="na">level</span><span class="pi">:</span> <span class="s2">"</span><span class="s">info"</span>

<span class="c1"># DAPR configuration</span>
<span class="na">dapr</span><span class="pi">:</span>
  <span class="na">enabled</span><span class="pi">:</span> <span class="no">false</span>
  <span class="na">port</span><span class="pi">:</span> <span class="m">6481</span>
  <span class="na">mode</span><span class="pi">:</span> <span class="s2">"</span><span class="s">job"</span>

<span class="c1"># Crawler configuration</span>
<span class="na">crawler</span><span class="pi">:</span>
  <span class="na">concurrency</span><span class="pi">:</span> <span class="m">5</span>
  <span class="na">timeout</span><span class="pi">:</span> <span class="m">30</span>
  <span class="na">useragent</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Custom</span><span class="nv"> </span><span class="s">Crawler</span><span class="nv"> </span><span class="s">1.0"</span>
  <span class="na">minusers</span><span class="pi">:</span> <span class="m">100</span>
  <span class="na">maxcomments</span><span class="pi">:</span> <span class="m">1000</span>
  <span class="na">maxposts</span><span class="pi">:</span> <span class="m">5000</span>
  <span class="na">maxdepth</span><span class="pi">:</span> <span class="m">3</span>
  <span class="na">maxpages</span><span class="pi">:</span> <span class="m">10000</span>
  <span class="na">minpostdate</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2023-01-01"</span>
  <span class="na">timeago</span><span class="pi">:</span> <span class="s2">"</span><span class="s">30d"</span>
  <span class="na">datebetween</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2023-01-01,2023-12-31"</span>
  <span class="na">samplesize</span><span class="pi">:</span> <span class="m">1000</span>
  <span class="na">crawlid</span><span class="pi">:</span> <span class="s2">"</span><span class="s">custom-crawl-001"</span>
  <span class="na">crawllabel</span><span class="pi">:</span> <span class="s2">"</span><span class="s">research-project-q1"</span>
  <span class="na">skipmedia</span><span class="pi">:</span> <span class="no">false</span>
  <span class="na">platform</span><span class="pi">:</span> <span class="s2">"</span><span class="s">telegram"</span>

<span class="c1"># Output configuration</span>
<span class="na">output</span><span class="pi">:</span>
  <span class="na">format</span><span class="pi">:</span> <span class="s2">"</span><span class="s">json"</span>

<span class="c1"># Storage configuration</span>
<span class="na">storage</span><span class="pi">:</span>
  <span class="na">root</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/data/crawls"</span>

<span class="c1"># TDLib configuration</span>
<span class="na">tdlib</span><span class="pi">:</span>
  <span class="na">database_url</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
  <span class="na">database_urls</span><span class="pi">:</span> <span class="pi">[]</span>
  <span class="na">verbosity</span><span class="pi">:</span> <span class="m">1</span>

<span class="c1"># YouTube configuration</span>
<span class="na">youtube</span><span class="pi">:</span>
  <span class="na">api_key</span><span class="pi">:</span> <span class="s2">"</span><span class="s">your_api_key_here"</span>

<span class="c1"># Distributed mode configuration</span>
<span class="na">distributed</span><span class="pi">:</span>
  <span class="na">mode</span><span class="pi">:</span> <span class="s2">"</span><span class="s">standalone"</span>
  <span class="na">worker_id</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
</code></pre></div></div>

<h2 id="data-models">Data Models</h2>

<h3 id="post-structure">Post Structure</h3>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"post_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"channel_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"channel_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"published_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-01T12:34:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"thumb_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"media_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"views_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"comments_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"shares_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"likes_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"engagement"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"platform_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"post_type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"string"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"outlinks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"string"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"reactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"emoji"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">},</span><span class="w">
  </span><span class="nl">"comments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"comment_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-01T12:34:56Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"likes_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"reply_to_comment_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"channel_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"channel_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"channel_url_external"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"channel_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"channel_engagement_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"follower_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"post_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"video_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"views_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"crawl_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"crawl_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="progress-structure">Progress Structure</h3>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"crawl_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-01T12:34:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-01T12:34:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"running"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"total_channels"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"completed_channels"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"total_posts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"processed_posts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"channels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel_name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"posts_scraped"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_post_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-01T12:34:56Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="exit-codes">Exit Codes</h2>

<table>
  <thead>
    <tr>
      <th>Code</th>
      <th>Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Success</td>
    </tr>
    <tr>
      <td>1</td>
      <td>General error</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Configuration error</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Authentication error</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Network error</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Storage error</td>
    </tr>
    <tr>
      <td>6</td>
      <td>API quota exceeded</td>
    </tr>
  </tbody>
</table>

<h2 id="rate-limits-and-quotas">Rate Limits and Quotas</h2>

<h3 id="telegram-api">Telegram API</h3>
<ul>
  <li><strong>Message History</strong>: ~20 requests/minute</li>
  <li><strong>Channel Info</strong>: ~60 requests/minute</li>
  <li><strong>Media Downloads</strong>: ~30 files/minute</li>
</ul>

<p>The scraper implements exponential backoff and automatic retry for rate limit handling.</p>

<h3 id="youtube-data-api-v3">YouTube Data API v3</h3>
<ul>
  <li><strong>Default Quota</strong>: 10,000 units/day</li>
  <li><strong>Search Requests</strong>: 100 units each</li>
  <li><strong>Video Details</strong>: 1 unit each</li>
  <li><strong>Comment Threads</strong>: 1 unit each</li>
</ul>

<p>Use <code class="language-plaintext highlighter-rouge">--max-posts</code> to limit quota usage.</p>

<h2 id="examples">Examples</h2>

<h3 id="basic-usage">Basic Usage</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Scrape Telegram channels</span>
./distributed-crawler <span class="nt">--urls</span> <span class="s2">"channel1,channel2"</span>

<span class="c"># Scrape YouTube channels</span>
./distributed-crawler <span class="nt">--platform</span> youtube <span class="nt">--youtube-api-key</span> <span class="s2">"KEY"</span> <span class="nt">--urls</span> <span class="s2">"UCxxx,UCyyy"</span>
</code></pre></div></div>

<h3 id="advanced-configuration">Advanced Configuration</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Distributed mode with time filtering</span>
./distributed-crawler <span class="nt">--mode</span> orchestrator <span class="nt">--dapr</span> <span class="se">\</span>
  <span class="nt">--urls</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">cat </span>channels.txt | <span class="nb">tr</span> <span class="s1">'\n'</span> <span class="s1">','</span><span class="si">)</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--time-ago</span> <span class="s2">"30d"</span> <span class="se">\</span>
  <span class="nt">--max-posts</span> 1000 <span class="se">\</span>
  <span class="nt">--skip-media</span> <span class="se">\</span>
  <span class="nt">--crawl-label</span> <span class="s2">"monthly-analysis"</span>

<span class="c"># Worker node</span>
./distributed-crawler <span class="nt">--mode</span> worker <span class="nt">--dapr</span> <span class="nt">--worker-id</span> <span class="s2">"worker-01"</span>
</code></pre></div></div>

<h3 id="configuration-file-usage">Configuration File Usage</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Use custom config file</span>
./distributed-crawler <span class="nt">--config</span> /path/to/config.yaml <span class="nt">--urls</span> <span class="s2">"channel1,channel2"</span>
</code></pre></div></div>

<hr />

<p>For more examples and use cases, see the <a href="examples/">Examples</a> section.</p>

    </div>
  </main>
  
  <footer class="site-footer">
    <div class="wrapper">
      <div class="footer-col-wrapper">
        <div class="footer-col footer-col-1">
          <h3>Distributed Crawler</h3>
          <p>A powerful Go-based application for scraping messages and metadata from  Telegram channels and YouTube channels. Built for scalability and reliability.</p>
        </div>
        
        <div class="footer-col footer-col-2">
          <h3>Links</h3>
          <ul class="social-media-list">
            
              <li>
                <a href="https://github.com/researchaccelerator-hub/distributed-crawler">
                  <span>GitHub</span>
                </a>
              </li>
            
              <li>
                <a href="https://github.com/researchaccelerator-hub/distributed-crawler/issues">
                  <span>Issues</span>
                </a>
              </li>
            
          </ul>
        </div>
        
        <div class="footer-col footer-col-3">
          <h3>About</h3>
          <p>Built with ‚ù§Ô∏è in Go. Licensed under Apache 2.0.</p>
        </div>
      </div>
    </div>
  </footer>
</body>
</html>